"""
経費申請ポリシー
このモジュールは、経費申請エージェントが使用するルールテキストを提供します。
"""


def get_receipt_rules(today: str, three_months_ago: str) -> str:
    """
    経費申請ルールテキストを取得
    
    このルールは、経費申請時に適用される必須チェック項目を定義します。
    日付チェック、金額チェック、業務目的チェックの3つの主要なルールが含まれます。
    
    Args:
        today: 今日の日付（YYYY-MM-DD形式）
        three_months_ago: 3ヶ月前の日付（YYYY-MM-DD形式）

    Returns:
        str: 経費申請ルールのテキスト（マークダウン形式）   
    """
    
    
    return f"""
        ## 経費申請ルール（必須チェック項目）
        1. 日付チェック
        - 領収書の日付が {three_months_ago} より前（3ヶ月を超える）の場合：
        * まず、ユーザーに日付の確認と修正を提案してください
        * 修正されない場合は、業務上の正当な理由を確認してください
        * 正当な理由がない場合は申請を受け付けないでください
        - 領収書の日付が {three_months_ago} ～{today}の範囲である場合：
        * 日付チェックは問題ありません（次のステップに進んでください）

        2. 金額チェック
        - 5,000円を超える申請の場合は、必ず事前に上長の承認を得ているか確認してください
        * ユーザーに詳細の確認は不要です。承認の有無だけ確認してください
        * 承認を得ていない場合は、先に上長の承認を取得するよう案内してください

        3. 業務目的チェック
        - すべての申請について業務関連性を確認してください
        * 業務目的が不明確な場合は、詳細な目的をユーザーに確認してください
        * 業務目的と判断できない場合は申請を受け付けないでください
        """
